function Swipe(C,v){var K=function(){};var k=function(L){setTimeout(L||K,0);};var i={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(L){var N=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var M in N){if(L.style[N[M]]!==undefined){return true;}}return false;})(document.createElement("swipe"))};if(!C){return;}var r=C.children[0],l=r.children;var A=parseInt(v.startSlide,10)||0,G=v.speed||300,F=v.continuous,u=v.vertical||false;var j=A-1,p=A+1,c,I,H,a,e;var m=u?"height":"width",E=u?"top":"left",y=u?"y":"x";function n(){I=new Array(l.length);C.style.overflow="hidden";H=C.getBoundingClientRect()[m]||(u?C.offsetHeight:C.offsetWidth);r.style[m]=(l.length*H)+"px";var N=l.length;while(N--){var L=l[N];L.style[m]=H+"px";L.style.display="inline";L.style.cssFloat="left";L.style.position="relative";L.setAttribute("data-index",N);L.style[E]=(N*-H)+"px";if(i.transitions){var M=A>N?-H:(A<N)?H:0;if(F){if(A==l.length-1&&N==0){M=H;p=0;}if(!A&&N==l.length-1){M=-H;j=N;}}if(N!=A){s(N,M,0);}else{I[A]=0;}}}if(!i.transitions){r.style[E]=(A*-H)+"px";}k(v.transitionStart&&v.transitionStart(A,l[A]));C.style.visibility="visible";}function o(){var M=l.length;while(M--){if(i.transitions){var L=A>M?-H:(A<M)?H:0;if(F){if(A==l.length-1&&M==0){L=H;p=0;}if(!A&&M==l.length-1){L=-H;j=M;}}s(M,L,0);}}}function z(){if(A){b(j,G,-1);}else{if(F){b(j,G,-1);}}}function h(){if(A<l.length-1){b(p,G,1);}else{if(F){b(p,G,1);}}}function b(N,L,M){if(A==N||N<0||N>l.length-1){return;}!c&&k(v.transitionStart&&v.transitionStart(N,l[N]));if(i.transitions){if(!M){M=-Math.abs(A-N)/(A-N);}if(M>0){s(j,-H,0);s(A,I[A]-H,G);s(p,I[p]-H,G);A=p;}else{s(p,+H,0);s(A,I[A]+H,G);s(j,I[j]+H,G);A=j;}}else{J(A*-H,N*-H,L||G);}j=N-1;A=N;p=N+1;k(v.callback&&v.callback(A,l[A]));}function s(L,N,M){g(L,N,M);I[L]=N;}function g(O,R,Q){var M=l[O];var P=M&&M.style;if(!P){return;}var N=u?0:R,L=u?R:0;P.webkitTransitionDuration=P.MozTransitionDuration=P.msTransitionDuration=P.OTransitionDuration=P.transitionDuration=Q+"ms";P.webkitTransform="translate("+N+"px,"+L+"px)translateZ(0)";P.msTransform=P.MozTransform=P.OTransform=u?"translateY("+R+"px)":"translateX("+R+"px)";}function J(P,O,L){if(!L){r.style[E]=O+"px";return;}var N=+new Date;var M=setInterval(function(){var Q=+new Date-N;if(Q>L){r.style[E]=O+"px";if(B){q();}v.transitionEnd&&v.transitionEnd.call(event,A,l[A]);clearInterval(M);return;}r.style[E]=(((O-P)*(Math.floor((Q/L)*100)/100))+P)+"px";},4);}var B=v.auto||0;var f;function q(){f=setTimeout(h,B);}function t(){clearTimeout(f);}var x={};var D={};var d;var w={handleEvent:function(L){switch(L.type){case"touchstart":this.start(L);break;case"touchmove":this.move(L);break;case"touchend":k(this.end(L));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":k(this.transitionEnd(L));break;case"resize":k(n.call());break;}if(v.stopPropagation){L.stopPropagation();}},start:function(L){o();var M=L.touches[0];x={x:M.pageX,y:M.pageY,time:+new Date};d=undefined;D={};c=false;r.addEventListener("touchmove",this,false);r.addEventListener("touchend",this,false);},move:function(L){if(L.touches.length>1||L.scale&&L.scale!==1){return;}if(v.disableScroll){L.preventDefault();}var M=L.touches[0];D={x:M.pageX-x.x,y:M.pageY-x.y};if(typeof d=="undefined"){d=!!(d||Math.abs(D[u?"y":"x"])<Math.abs(D[u?"x":"y"]));}if(!d){L.preventDefault();t();if(!F){D[y]=D[y]/((!A&&D[y]>0||A==l.length-1&&D[y]<0)?(Math.abs(D[y])/H+1):1);}g(j,D[y]+I[j],0);g(A,D[y]+I[A],0);g(p,D[y]+I[p],0);var N=D[y]>0?A-1:A+1;!c&&k(l[N]&&v.transitionStart&&v.transitionStart(N,l[N]));c=true;}},end:function(N){var P=+new Date-x.time;var M=Number(P)<250&&Math.abs(D[y])>20||Math.abs(D[y])>H/2;var L=F?false:(!A&&D[y]>0||A==l.length-1&&D[y]<0);var O=D[y]<0;if(!d){if(M&&!L){if(O){h();}else{z();}}else{s(A-1,-H,G);s(A,0,G);s(A+1,H,G);}}r.removeEventListener("touchmove",w,false);r.removeEventListener("touchend",w,false);},transitionEnd:function(L){o();if(parseInt(L.target.getAttribute("data-index"),10)==A){if(B){q();}v.transitionEnd&&v.transitionEnd.call(L,A,l[A]);}}};n();if(B){q();}if(i.addEventListener){if(i.touch){r.addEventListener("touchstart",w,false);}if(i.transitions){r.addEventListener("webkitTransitionEnd",w,false);r.addEventListener("msTransitionEnd",w,false);r.addEventListener("oTransitionEnd",w,false);r.addEventListener("otransitionend",w,false);r.addEventListener("transitionend",w,false);}window.addEventListener("resize",w,false);}else{window.onresize=function(){n();};}return{setup:function(){n();},slide:function(M,L){b(M,L);},prev:function(){t();z();},next:function(){t();h();},getPos:function(){return A;},stop:function(){t();},start:function(){q();},kill:function(){t();r.style[m]="auto";r.style[E]=0;var M=l.length;while(M--){var L=l[M];L.style[m]="100%";L.style[E]=0;if(i.transitions){g(M,0,0);}}if(i.addEventListener){r.removeEventListener("touchstart",w,false);r.removeEventListener("webkitTransitionEnd",w,false);r.removeEventListener("msTransitionEnd",w,false);r.removeEventListener("oTransitionEnd",w,false);r.removeEventListener("otransitionend",w,false);r.removeEventListener("transitionend",w,false);window.removeEventListener("resize",w,false);}else{window.onresize=null;}}};}if(window.jQuery||window.Zepto){(function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b));});};})(window.jQuery||window.Zepto);}