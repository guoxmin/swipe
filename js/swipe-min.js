function Swipe(E,w){var M=function(){};var k=function(N){setTimeout(N||M,0);};var i={addEventListener:!!window.addEventListener,touch:("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch,transitions:(function(N){var P=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var O in P){if(N.style[P[O]]!==undefined){return true;}}return false;})(document.createElement("swipe"))};if(!E){return;}var r=E.children[0],l=r.children,u=l.length;var C=parseInt(w.startSlide,10)||0,I=w.speed||300,H=w.continuous,v=w.vertical||false;if(H){var z=r.innerHTML;if(u==2){r.innerHTML=r.innerHTML+r.innerHTML;}else{if(u==1){r.innerHTML=r.innerHTML+r.innerHTML;}}}var j=C-1,p=C+1,c,K,J,a,e;var m=v?"height":"width",G=v?"top":"left",A=v?"y":"x";function n(){K=new Array(l.length);E.style.overflow="hidden";J=E.getBoundingClientRect()[m]||(v?E.offsetHeight:E.offsetWidth);r.style[m]=(l.length*J)+"px";var P=l.length;while(P--){var N=l[P];N.style[m]=J+"px";N.style.display="inline";N.style.cssFloat="left";N.style.position="relative";N.setAttribute("data-index",P);N.style[G]=(P*-J)+"px";if(i.transitions){var O=C>P?-J:(C<P)?J:0;if(H){if(C==l.length-1&&P==0){O=J;p=0;}if(!C&&P==l.length-1){O=-J;j=P;}}if(P!=C){s(P,O,0);}else{K[C]=0;}}}if(!i.transitions){r.style[G]=(C*-J)+"px";}k(w.transitionStart&&w.transitionStart(C,l[C]));E.style.visibility="visible";}function o(){var O=l.length;while(O--){if(i.transitions){var N=C>O?-J:(C<O)?J:0;if(H){if(C==l.length-1&&O==0){N=J;p=0;}if(!C&&O==l.length-1){N=-J;j=O;}}s(O,N,0);}}}function B(){if(C){b(j,I,-1);}else{if(H){b(j,I,-1);}}}function h(){if(C<l.length-1){b(p,I,1);}else{if(H){b(p,I,1);}}}function b(P,N,O){if(C==P||P<0||P>l.length-1){return;}!c&&k(w.transitionStart&&w.transitionStart(P,l[P]));if(i.transitions){if(!O){O=-Math.abs(C-P)/(C-P);}if(O>0){s(j,-J,0);s(C,K[C]-J,I);s(p,K[p]-J,I);C=p;}else{s(p,+J,0);s(C,K[C]+J,I);s(j,K[j]+J,I);C=j;}}else{L(C*-J,P*-J,N||I);}j=P-1;C=P;p=P+1;k(w.callback&&w.callback(C,l[C]));}function s(N,P,O){g(N,P,O);K[N]=P;}function g(Q,T,S){var O=l[Q];var R=O&&O.style;if(!R){return;}var P=v?0:T,N=v?T:0;R.webkitTransitionDuration=R.MozTransitionDuration=R.msTransitionDuration=R.OTransitionDuration=R.transitionDuration=S+"ms";R.webkitTransform="translate("+P+"px,"+N+"px)translateZ(0)";R.msTransform=R.MozTransform=R.OTransform=v?"translateY("+T+"px)":"translateX("+T+"px)";}function L(R,Q,N){if(!N){r.style[G]=Q+"px";return;}var P=+new Date;var O=setInterval(function(){var S=+new Date-P;if(S>N){r.style[G]=Q+"px";if(D){q();}w.transitionEnd&&w.transitionEnd.call(event,C,l[C]);clearInterval(O);return;}r.style[G]=(((Q-R)*(Math.floor((S/N)*100)/100))+R)+"px";},4);}var D=w.auto||0;var f;function q(){f=setTimeout(h,D);}function t(){clearTimeout(f);}var y={};var F={};var d;var x={handleEvent:function(N){switch(N.type){case"touchstart":this.start(N);break;case"touchmove":this.move(N);break;case"touchend":k(this.end(N));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":k(this.transitionEnd(N));break;case"resize":k(n.call());break;}if(w.stopPropagation){N.stopPropagation();}},start:function(N){o();var O=N.touches[0];y={x:O.pageX,y:O.pageY,time:+new Date};d=undefined;F={};c=false;r.addEventListener("touchmove",this,false);r.addEventListener("touchend",this,false);},move:function(N){if(N.touches.length>1||N.scale&&N.scale!==1){return;}if(w.disableScroll){N.preventDefault();}var O=N.touches[0];F={x:O.pageX-y.x,y:O.pageY-y.y};if(typeof d=="undefined"){d=!!(d||Math.abs(F[v?"y":"x"])<Math.abs(F[v?"x":"y"]));}if(!d){N.preventDefault();t();if(!H){F[A]=F[A]/((!C&&F[A]>0||C==l.length-1&&F[A]<0)?(Math.abs(F[A])/J+1):1);}g(j,F[A]+K[j],0);g(C,F[A]+K[C],0);g(p,F[A]+K[p],0);var P=F[A]>0?C-1:C+1;!c&&k(l[P]&&w.transitionStart&&w.transitionStart(P,l[P]));c=true;}},end:function(P){var R=+new Date-y.time;var O=Number(R)<250&&Math.abs(F[A])>20||Math.abs(F[A])>J/2;var N=H?false:(!C&&F[A]>0||C==l.length-1&&F[A]<0);var Q=F[A]<0;if(!d){if(O&&!N){if(Q){h();}else{B();}}else{s(C-1,-J,I);s(C,0,I);s(C+1,J,I);}}r.removeEventListener("touchmove",x,false);r.removeEventListener("touchend",x,false);},transitionEnd:function(N){o();if(parseInt(N.target.getAttribute("data-index"),10)==C){if(D){q();}w.transitionEnd&&w.transitionEnd.call(N,C,l[C]);}}};n();if(D){q();}if(i.addEventListener){if(i.touch){r.addEventListener("touchstart",x,false);}if(i.transitions){r.addEventListener("webkitTransitionEnd",x,false);r.addEventListener("msTransitionEnd",x,false);r.addEventListener("oTransitionEnd",x,false);r.addEventListener("otransitionend",x,false);r.addEventListener("transitionend",x,false);}window.addEventListener("resize",x,false);}else{window.onresize=function(){n();};}return{setup:function(){n();},slide:function(O,N){b(O,N);},prev:function(){t();B();},next:function(){t();h();},getPos:function(){return C;},stop:function(){t();},start:function(){q();},kill:function(){t();r.style[m]="auto";r.style[G]=0;var O=l.length;while(O--){var N=l[O];N.style[m]="100%";N.style[G]=0;if(i.transitions){g(O,0,0);}}if(i.addEventListener){r.removeEventListener("touchstart",x,false);r.removeEventListener("webkitTransitionEnd",x,false);r.removeEventListener("msTransitionEnd",x,false);r.removeEventListener("oTransitionEnd",x,false);r.removeEventListener("otransitionend",x,false);r.removeEventListener("transitionend",x,false);window.removeEventListener("resize",x,false);}else{window.onresize=null;}}};}if(window.jQuery||window.Zepto){(function(a){a.fn.Swipe=function(b){return this.each(function(){a(this).data("Swipe",new Swipe(a(this)[0],b));});};})(window.jQuery||window.Zepto);}